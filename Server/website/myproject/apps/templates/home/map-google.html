{% if current_user.is_authenticated %}

{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific CSS goes HERE -->
{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{{ config.ASSETS_ROOT }}/css/heatmap.css" />
{% endblock stylesheets %}

{% block content %}

    <!-- [ Main Content ] start -->
    <section class="pcoded-main-container">
      <div class="pcoded-wrapper">

          <div class="pcoded-content">
              <div class="pcoded-inner-content">
                  <!-- [ breadcrumb ] start -->
                  <div class="page-header">
                      <div class="page-block">
                          <div class="row align-items-center">
                              <div class="col-md-12">
                                  <div class="page-header-title">
                                      <h5 class="m-b-10">Google Map</h5>
                                  </div>
                                  <ul class="breadcrumb">
                                      <li class="breadcrumb-item"><a href="/"><i class="feather icon-home"></i></a></li>
                                      <li class="breadcrumb-item"><a href="#!">Maps</a></li>
                                      <li class="breadcrumb-item"><a href="javascript:">Google Maps</a></li>
                                  </ul>
                              </div>
                          </div>
                      </div>
                  </div>
                  <!-- [ breadcrumb ] end -->
                  <div class="main-body">
                      <div class="page-wrapper">
                          <!-- [ Main Content ] start -->
                          <div class="row">
                              <!-- [ basic-map ] start -->
                              <div class="col-lg-12 col-xl-6">
                                  <div class="card">
                                      <div class="card-header">
                                          <h5>Basic</h5>
                                          <span class="d-block m-t-5">Map shows places around the world</span>
                                      </div>
                                      <div class="card-block">
                                        <div id="floating-panel">
                                          <button id="toggle-heatmap">Toggle Heatmap</button>
                                          <button id="change-gradient">Change gradient</button>
                                          <button id="change-radius">Change radius</button>
                                          <button id="change-opacity">Change opacity</button>
                                        </div>
                                        <div id="map"></div>
                                      </div>
                                  </div>
                              </div>
                              <!-- [ basic-map ] end -->
                          </div>
                          <!-- [ Main Content ] end -->
                      </div>
                  </div>
              </div>
          </div>
          
      </div>
  </section>
  <!-- [ Main Content ] end -->

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script type="module" src="{{ config.ASSETS_ROOT }}/js/heatmap.js"></script>

<script
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8wXKuLsRV8GiaNWKdcTerK1_y1GGEDhY&callback=initMap&libraries=visualization&v=weekly"
defer
></script>

{% endblock javascripts %}

{% else %}
    <meta http-equiv="refresh" content="0; url ={{ url_for('not_found') }}" />
{% endif %}